{% extends 'store/base.html' %}
{% load static %}


{% block title %} {{ movie.Name}} {% endblock %} 
{% block styles %} 
    <link rel="stylesheet" href="{% static 'store/spec_item.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
{% endblock %}

{% block content %}
    <div id="contain">
        <div id="body">
            <div class="item">
                <div id="images">
                    <img src="{{movie.Image.url}}" width="200px" height="350px" alt="Book Cover">
                    <div class="mini-images">
                        <a href=""><img src="{{movie.Image1.url}}" width="50px" height="70px" alt="Book Cover"></a>
                        <a href=""><img src="{{movie.Image2.url}}" width="50px" height="70px" alt="Book Cover"></a>
                        <a href=""><img src="{{movie.Image3.url}}" width="50px" height="70px" alt="Book Cover"></a>
                    </div>
    
                </div>
                
                <div class="description">
                    <h2 style="color: #27995e;">{{ movie.Name }}</h2>
                    <div style="color: #27995e;" id="special">
                        <h3>{{ movie.PriceUSD }}</h3>
                        <h4><a href="" style="color: #27995e;">-> add to WishList</a></h4>
                    </div>
                    <table>
                        <tr>
                            <td class="title">Rating: </td>
                            <td>
                                {% for i in '12345' %}
                                    {% if i|add:0 <= movie.Rating %}
                                        <span class="fa fa-star checked"></span>
                                    {% else %}
                                        <span class="fa fa-star"></span>
                                    {% endif %}
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td class="title">Average Reviews: </td>
                            <td>
                                {% for i in '12345' %}
                                    {% if i|add:0 <= average %}
                                        <span class="fa fa-star checked"></span>
                                    {% else %}
                                        <span class="fa fa-star"></span>
                                    {% endif %}
                                {% endfor %}
                            </td>
                        </tr>
                        <tr>
                            <td class="title">Reviewers #:</td>
                            <td>{{ reviews|length }}</td>
                        </tr>
                        <tr>
                            <td class="title">Genre: </td>
                            <td>{{movie.Genre}}</td>
                        </tr>
                        <tr>
                            <td class="title">Release Date: </td>
                            <td>{{ movie.Date}}</td>
                        </tr>
                        <tr>
                            <td class="title">Sales (copies): </td>
                            <td>{{movie.CopiesSold}}</td>
                        </tr>
                        <tr>
                            <td class="title">Description: </td>
                            <td>{{movie.Description}}</td>
                        </tr>
                    </table>
                </div>
            </div>
            <br>
            <div id="trailer" >
                <iframe src="{{movie.Trailer}}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
    
            <div id="cast-credit" >
                <div class="cc">
                    <h4>Cast: </h4>
                    <ul>
                        {% for castMember in cast %}
                            <li>{{castMember.Name}} </li>
                        {% endfor %}
                    </ul>
                </div>
                
                <div class="cc">
                    <h4>Credit: </h4>
                    <ul>
                        {% for creditMember in credit %}
                            <li>{{creditMember.Job}}: {{creditMember.Name}}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>

            <div id="Reviews">
                <table>
                    <thead>
                        <th colspan="2"><h3 id="rev">Reviews: </h3></th>
                    </thead>
                    <tbody>
                        {% for review in reviews %}
                            <tr>
                                <td>
                                    <img src="{{ review.user.Profile.Image.url }}">
                                </td>
                                <td>
                                    <div class="review">
                                        <div class="author">
                                            <h5>{{ review.user.username }}</h5>
                                            {% for i in '12345' %}
                                                {% if i|add:0 <= review.Rating %}
                                                    <span class="fa fa-star checked"></span>
                                                {% else %}
                                                    <span class="fa fa-star"></span>
                                                {% endif %}
                                            {% endfor %}
                                        </div>
                                        <div id="span">
                                            <a href=""><span class="fa fa-thumbs-up">{{review.likes}}  |  </span></a>
                                            <a href=""><span class="fa fa-thumbs-down">{{review.dislikes}}  |  </span></a>
                                            <a href=""><span class="fa fa-flag"></span></a>
                                        </div>
                                    </div>
                                    <p>{{review.content}}</p>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                    <th colspan="2"><a href=""><p id="rev">See all Reviews... </p></a></th>
                </table>
            </div>
            
            <h3 id="sim">Similar Products: </h3>
            <div class="test1-list">
                {% for movies in similarMovies %}
                <div class="test1">
                    <div class="inner-test1">
                        <div class="figure-image">
                            <a href="single.html"><img src="{{ movies.Image.url }}" alt="cover1"></a>
                        </div>
                        <h3 class="test1-title"><a href="#">{{ movies.Name }}</a></h3>
                        <h3 class="test1-category"><a href="#">{{ movies.Genre }}</a></h3>
                        <small class="price">USD {{ movies.PriceUSD }}</small>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}